
# imposm3 mapping file for https://github.com/osm2vectortiles/imposm3
# Warning: this is not the official imposm3

# OpenRailwayMap Tagging, see https://wiki.openstreetmap.org/wiki/OpenRailwayMap/Tagging
def_railway_poi_mapping: &railway_poi_mapping
  railway:
    - switch
    - railway_crossing
    - derail
    - buffer_stop
    - vacancy_detection
    - lubricator
    - level_crossing
    - crossing
    - isolated_track_section
    - owner_change
    - border
    - milestone
    - signal_box
    - crossing_box
    - blockpost
    - station
    - halt
    - tram_stop
    - yard
    - service_station
    - junction
    - crossover
    - spur_junction
    - site
    - stop
    - subway_entrance
    - phone
    - water_tower
    - fuel
    - water_crane
    - coaling_facility
    - sand_store
    - waste_disposal
    - compressed_air_supply
    - power_supply
    - preheating
    - wash
    - pit
    - loading_gauge    
    - hump_yard
    - rail_brake
    - engine_shed
    - workshop
    - radio
    - turntable
    - defect_detector
    - traverser
    - loading_ramp
    - track_scale
    - carrier_truck_pit
    - gauge_conversion
    - museum
    - container_terminal
    - car_shuttle
    - rolling_highway

def_railway_poi_fields: &railway_poi_fields
  - name: osm_id
    type: id
  - name: geometry
    type: geometry
  - name: class
    key: railway
    type: string
  - name: name
    key: name
    type: string
  - name: name_en
    key: name:en
    type: string
  - name: name_de
    key: name:de
    type: string
  - name: ref
    key: ref
    type: string
  - name: railway_ref
    key: railway:ref
    type: string
  - name: railway_position
    key: railway:position
    type: string
  - name: railway_position_exact
    key: railway:position:exact
    type: string
  - name: uic_ref
    key: uic_ref
    type: string
  - name: local_operated
    key: railway:local_operated
    type: string
  - name: resetting
    key: railway:switch:resetting
    type: string
  - name: tags
    type: hstore_tags
  - name: layer
    key: layer
    type: integer

tables:
  # etldoc: imposm3 -> osm_railway_poi_point
  railway_poi_point:
    type: point
    columns: *railway_poi_fields
    mapping: *railway_poi_mapping

  # etldoc: imposm3 -> osm_railway_poi_polygon
  railway_poi_polygon:
    type: polygon
    columns: *railway_poi_fields
    mapping: *railway_poi_mapping
